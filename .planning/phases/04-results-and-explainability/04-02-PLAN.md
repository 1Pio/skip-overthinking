---
phase: 04-results-and-explainability
plan: 02
type: execute
wave: 2
depends_on: [04-01]
files_modified:
  - src/features/results/components/RankingTable.tsx
  - src/features/results/components/MethodCheckPanel.tsx
  - src/features/results/components/ResultsSummarySection.tsx
autonomous: true
must_haves:
  truths:
    - "User sees a compact WSM-first ranking table with rank, option, score, and coverage."
    - "User sees strict-check status that is concise when methods agree and neutral when they differ."
    - "User can expand disagreement details to inspect WPM rank perspective with WSM callouts."
  artifacts:
    - path: "src/features/results/components/RankingTable.tsx"
      provides: "Balanced-density ranking table with shared-rank tie display and coverage badges"
      contains: "rank, option, score, coverage"
    - path: "src/features/results/components/MethodCheckPanel.tsx"
      provides: "Secondary strict-check panel with concise agreement and neutral difference messaging"
      contains: "methods differ"
    - path: "src/features/results/components/ResultsSummarySection.tsx"
      provides: "WSM table plus WPM strict-check composition with linked hover and focus callbacks"
      contains: "onOptionHover"
  key_links:
    - from: "src/features/results/components/RankingTable.tsx"
      to: "src/features/results/state/results.selectors.ts"
      via: "renders selector-provided rows and tie ranks"
      pattern: "rows.map"
    - from: "src/features/results/components/MethodCheckPanel.tsx"
      to: "src/features/results/state/results.selectors.ts"
      via: "agreement/difference panel binds to strict-check payload"
      pattern: "methodCheck"
---

<objective>
Implement the compact summary surfaces for results interpretation: WSM-first ranking table and WPM strict-check panel.

Purpose: Make ranking trust visible at a glance while keeping strict-check context available without overwhelming the default view.
Output: Reusable summary components wired to selector contracts for ranking, coverage, and method-check messaging.
</objective>

<execution_context>
@C:/Users/aaron/.config/opencode/get-shit-done/workflows/execute-plan.md
@C:/Users/aaron/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-results-and-explainability/04-CONTEXT.md
@.planning/phases/04-results-and-explainability/04-RESEARCH.md
@src/features/results/state/results.types.ts
@src/features/results/state/results.selectors.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build the balanced-density WSM ranking table</name>
  <files>src/features/results/components/RankingTable.tsx</files>
  <action>Create a compact-but-readable table component that renders the locked essential columns in order: rank, option, score, coverage. Show WSM as the clearly labeled default method without extra clutter, render ties with shared-rank numbering (1,1,3), and represent coverage as percent-first text with supporting badge semantics and subtle color-state hooks. Include keyboard and pointer row hover/focus callbacks for linked highlighting.</action>
  <verify>bun run lint</verify>
  <done>Ranking table component renders deterministic WSM rows with required columns, tie behavior, and coverage badge contracts aligned with locked decisions.</done>
</task>

<task type="auto">
  <name>Task 2: Build the secondary WPM strict-check panel</name>
  <files>src/features/results/components/MethodCheckPanel.tsx</files>
  <action>Implement a visible but secondary strict-check panel that consumes selector-provided method comparison data. Keep agreement copy concise and lightweight; keep difference copy neutral and non-alarmist (simple methods-differ notice). Add an expandable disagreement section that pivots to near-full WPM ranking perspective and includes compact callouts for what WSM reports.</action>
  <verify>bun run lint</verify>
  <done>Strict-check panel supports agreement and difference states with neutral default framing plus expandable WPM detail view per RES-02/03 and locked messaging decisions.</done>
</task>

<task type="auto">
  <name>Task 3: Compose summary section with linked interaction hooks</name>
  <files>src/features/results/components/ResultsSummarySection.tsx</files>
  <action>Create a composition component that renders `RankingTable` and `MethodCheckPanel` from one typed payload, passing shared option hover/focus handlers through both surfaces so table interactions can later synchronize with visuals. Keep this component presentation-only; do not recompute scores here.</action>
  <verify>bun run lint && bun run build</verify>
  <done>Summary section composes both surfaces through typed props and exposes a clean integration API for route-level orchestration.</done>
</task>

</tasks>

<verification>
Render mock selector payloads and confirm the section shows WSM table first, strict-check second, with neutral disagreement language and expandable WPM details.
</verification>

<success_criteria>
`RankingTable`, `MethodCheckPanel`, and `ResultsSummarySection` exist and satisfy RES-01/02/03/09 while preserving locked table shape and strict-check messaging behavior.
</success_criteria>

<output>
After completion, create `.planning/phases/04-results-and-explainability/04-02-SUMMARY.md`
</output>
