---
phase: 05-persistence-auth-and-sync-security
plan: 07
type: execute
wave: 3
depends_on:
  - 05-02
files_modified:
  - src/features/workspace/DecisionCard.tsx
  - src/features/workspace/NewDecisionButton.tsx
  - src/features/workspace/index.ts
autonomous: true
requirements:
  - SYN-01
  - SYN-02
user_setup: []

must_haves:
  truths:
    - "User can create new decision from workspace"
    - "User can view existing decision from workspace"
  artifacts:
    - path: "src/features/workspace/DecisionCard.tsx"
      provides: "Decision card component for workspace"
      contains: "DecisionCard"
    - path: "src/features/workspace/NewDecisionButton.tsx"
      provides: "Create new decision button"
      contains: "NewDecisionButton"
    - path: "src/features/workspace/index.ts"
      provides: "Export workspace components"
      exports: ["DecisionCard", "NewDecisionButton"]
  key_links:
    - from: "src/features/workspace/DecisionCard.tsx"
      to: "src/features/auth/storage/local.types.ts"
      via: "LocalDecision type"
      pattern: "LocalDecision"
---

<objective>
Create decision card and new decision button components for workspace.

Purpose: Provide UI elements for decision management in workspace (SYN-01, SYN-02).
Output: DecisionCard component for displaying decisions and NewDecisionButton for creating decisions.
</objective>

<execution_context>
@C:/Users/aaron/.config/opencode/get-shit-done/workflows/execute-plan.md
@C:/Users/aaron/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/features/auth/storage/local.types.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create decision card component</name>
  <files>
    - src/features/workspace/DecisionCard.tsx
  </files>
  <action>
    Create src/features/workspace/DecisionCard.tsx:

    1. Component interface:
       - decision: LocalDecision (from localStorage or Convex)
       - onClick: (id: string) => void (open decision)
       - onDelete?: (id: string) => void (delete decision - optional for now)

    2. Card content:
       - Title (from decision.title)
       - Description (truncated if long, from decision.description or empty string)
       - Icon (from decision.icon or default icon)
       - Optional metadata:
         - Number of options: decision.options.length
         - Number of criteria: decision.criteria.length
         - Last updated: formatted date from decision.updatedAt

    3. Card styling:
       - Use Tailwind for card layout
       - Hover effect to indicate clickability
       - Clean, minimal design
       - Fixed height or consistent card size for grid layout

    4. Behavior:
       - Click on card: Calls onClick(decision.id)
       - Delete button (if provided): Calls onDelete(decision.id) on separate button

    IMPORTANT: Cards should look like project cards - simple, scanable, with clear title and optional metadata.
  </action>
  <verify>
    - src/features/workspace/DecisionCard.tsx exists
    - Card shows title, description, icon
    - Card shows metadata (options count, criteria count, last updated)
    - Clicking card calls onClick with decision id
    - Styling is clean and minimal with hover effect
  </verify>
  <done>
    Decision card component displays decision summary in workspace.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create new decision button component</name>
  <files>
    - src/features/workspace/NewDecisionButton.tsx
  </files>
  <action>
    Create src/features/workspace/NewDecisionButton.tsx:

    1. Component interface:
       - onClick: () => void (create new decision)

    2. Button content:
       - Icon (plus icon or similar)
       - Text: "New Decision" or "Create Decision"

    3. Button styling:
       - Use Tailwind for button layout
       - Prominent button (primary color)
       - Hover effect

    4. Behavior:
       - Click: Calls onClick() to create new decision and navigate to setup

    IMPORTANT: Button should be prominent to encourage creating new decisions.
  </action>
  <verify>
    - src/features/workspace/NewDecisionButton.tsx exists
    - Button has icon and text
    - Button is prominent with primary styling
    - Clicking calls onClick
  </verify>
  <done>
    New decision button provides clear action to create decisions.
  </done>
</task>

<task type="auto">
  <name>Task 3: Export workspace components</name>
  <files>
    - src/features/workspace/index.ts
  </files>
  <action>
    Create src/features/workspace/index.ts:

    Export workspace components:
    - DecisionCard
    - NewDecisionButton

    This creates a clean public API for consuming workspace components.
  </action>
  <verify>
    - src/features/workspace/index.ts exists
    - DecisionCard is exported
    - NewDecisionButton is exported
  </verify>
  <done>
    Workspace components are exported and ready for use.
  </done>
</task>

</tasks>

<verification>
- DecisionCard displays decision title, description, icon, and metadata
- NewDecisionButton provides prominent create action
- Components are exported from workspace index
</verification>

<success_criteria>
- User can view decisions as cards
- User can create new decisions via button
- All requirements SYN-01 and SYN-02 are addressed at the component level
</success_criteria>

<output>
After completion, create `.planning/phases/05-persistence-auth-and-sync-security/05-07-SUMMARY.md`
</output>
